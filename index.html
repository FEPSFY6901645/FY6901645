<!DOCTYPE html>



<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<!-- <link rel="stylesheet" href="index.css"> -->
<title>6901645 conference project</title>
<head/>
<html lang="en">
    <body style="background-image: url('Black-Hole-Illustration.webp');background-size: cover;">
            <img src="WebBanner2023.png" alt="Banner" width="150" height="50">
                <h1 style="color:white; font-size:10px;"><b>ENG0018 Computer Laboratory 2024/25</b></h1>
                <h2 style="color:white; font-size:10px;">Student URN: 6901645</h2>
                <h1 style="color:white; font-size:40px; font-family:Arial Nova Cond Bold; text-align: center;">How and why <br> do black holes affect light</h1>
            <video src="presentation for conference.mp4" width="800" height="450" controls>
            </video>
        
       
     <nav class="container">

<ul>

<table>
  <tr>
      <td style="text-align:left">
        <a href="references.html">‎ References‎ ‎ </a>
      </td>
      <td style="text-align:right">
        <a href="information.html">‎ Information‎ ‎ </a>
      </td>
  </tr>   
</table>

</ul>

</nav>
   
    </body> 
 <!-- //////////////////////////////////////////////////////////////////////////////// -->
  <!-- ////////////////////////////// Adding last update ////////////////////////////// -->
  <!-- //////////////////////////////////////////////////////////////////////////////// -->
    <!-- Last commit time display -->
<div id="last-updated">Loading last update time...</div>
<!-- Verify Button -->
<button onclick="verifyLastUpdatedTime()" style="display: block; margin: 10px auto; padding: 8px 16px;position:absolute;bottom:0; left:500px ">
    Verify Last Modified Time
</button>
<script>
    async function getLastUpdatedTime() {
        const username = 'FEPSFY6901645';
        const repo = 'FY6901645';
       
        const url = `https://api.github.com/repos/${username}/${repo}/commits`;
        try {
            const response = await fetch(url, {
                method: 'GET',
                headers: {
                    'Accept': 'application/vnd.github.v3+json',
                }
            });
            if (!response.ok) {
                throw new Error(`Error fetching data: ${response.status} - ${response.statusText}`);
            }
            const commits = await response.json();
            if (commits && commits.length > 0) {
                const lastCommitDate = new Date(commits[0].commit.committer.date);
               
                // Displaying the time on load
                document.getElementById('last-updated').innerText = `Last Modified Time: ${lastCommitDate.toLocaleString()}`;
            } else {
                document.getElementById('last-updated').innerText = 'No commits found in the repository.';
            }
        } catch (error) {
            console.error('Error fetching the last updated time:', error);
            document.getElementById('last-updated').innerText = 'Error fetching update time. Please check the repository details.';
        }
    }
    // Function to verify the last update time by re-fetching it from the API
    async function verifyLastUpdatedTime() {
        document.getElementById('last-updated').innerText = 'Verifying...';
        await getLastUpdatedTime();
        alert("Last modified time has been successfully verified from GitHub API.");
    }
    // Initial load to display the time on page load
    window.onload = getLastUpdatedTime;
</script>
    
</html>
